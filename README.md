
## Test dataset for ont-assembly-snake and score-assemblies workflows

This repository contains sequencing data from ONT and Illumina for testing the [ont-assembly-snake](https://github.com/pmenzel/ont-assembly-snake) and [score-assemblies](https://github.com/pmenzel/score-assemblies) Snakemake workflows,
described in the preprint [Snakemake Workflows for Long-read Bacterial Genome Assembly and Evaluation](https://www.preprints.org/manuscript/202208.0191/v1).

The datasets are subsampled read sets from the ONT and Illumina sequencing data of NCBI BioSample [SAMN30015177](https://www.ncbi.nlm.nih.gov/sra?LinkName=biosample_sra&from_uid=30015177) of _Pandoraea commovens_,
from the publication [Outbreak of Pandoraea commovens Infections among Non–Cystic Fibrosis Intensive Care Patients, Germany, 2019–2021](https://wwwnc.cdc.gov/eid/article/29/11/23-0493_article).

### Setup

> [!IMPORTANT]  
> A working conda installation is required to run the workflows, see the [installation instructions for Miniconda](https://docs.conda.io/projects/miniconda/en/latest/index.html#quick-command-line-install).

To download the dataset, clone this repository with:
```
git clone https://github.com/pmenzel/ont-assembly-snake-testdata.git
cd ont-assembly-snake-testdata
```

It will contain two folders: `fastq-ont` and `fastq-illumina` with following files:
```
├── fastq-illumina
│   ├── example_R1.fastq.gz
│   └── example_R2.fastq.gz
└── fastq-ont
    └── example.fastq.gz
```

Next, clone the [ont-assembly-snake](https://github.com/pmenzel/ont-assembly-snake) and [score-assemblies](https://github.com/pmenzel/score-assemblies) repositories and create the respective conda-environments:

```
conda config --add channels bioconda

git clone https://github.com/pmenzel/ont-assembly-snake.git
conda env create -n ont-assembly-snake --file ont-assembly-snake/env/conda-main.yaml

git clone https://github.com/pmenzel/score-assemblies.git
conda env create -n score-assemblies --file score-assemblies/env/environment.yaml
```

### Run pipelines

Create one or more folders for an assembly to be generated by ont-assembly-snake and run Snakemake.  
For example:
```
mkdir -p assemblies/example_flyehq4

conda activate ont-assembly-snake

snakemake -s ont-assembly-snake/Snakefile --use-conda --cores 20

```
